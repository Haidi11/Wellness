<!DOCTYPE html>
<html xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf">
<style>
column {
	padding: 10px;
}
</style>


<ui:composition template="WEB-INF/template/template2.xhtml">


	<ui:define name="main">
		<f:view>
			<h:form>
			Naziv: <h:inputText id="naziv" value="#{dogodek.novDogodek.naziv}"
					validatorMessage="Vnesite naziv dogodka">
					<f:validateRequired />
				</h:inputText>
				<span class="opozorilo"><h:message for="naziv"></h:message></span>
				<br />
			To훾ke: <input type="number" min="0" id="tocke" jsf:value="#{dogodek.novDogodek.tocke}">

				</input>
				<span class="opozorilo"><h:message for="tocke"></h:message></span>
				<br />
				<div class="vnosCasa">Rok prijave:</div>
				<input type="date"
					jsf:value="#{dogodek.novDogodek.datumPrijave.time}">
				<f:convertDateTime pattern="yyyy-MM-dd" />
				</input>
				<input type="time"
					jsf:value="#{dogodek.potekUra.time}">
				<f:convertDateTime pattern="HH:mm" />
				</input>
				<br />



				<div class="vnosCasa">Datum za훾etka:</div>
				<input type="date"
					jsf:value="#{dogodek.novDogodek.datumZacetka.time}">
				<f:convertDateTime pattern="yyyy-MM-dd" />
				
				</input>
				<input type="time"
					jsf:value="#{dogodek.uraZacetka.time}">
				<f:convertDateTime pattern="HH:mm" />
				</input>
				<br />

				<div class="vnosCasa">Datum konca:</div>
				<input type="date" jsf:value="#{dogodek.novDogodek.datumKonca.time}">
				<f:convertDateTime pattern="yyyy-MM-dd" />
				</input>
				<input type="time" jsf:value="#{dogodek.uraKonca.time}">
				<f:convertDateTime pattern="HH:mm" />
				</input>

				<br />
			Opis dogodka:	<h:inputTextarea id="opis"
					value="#{dogodek.novDogodek.opisDogodka}"
					validatorMessage="Vnesite opis dogodka">
					<f:validateRequired />
				</h:inputTextarea>
				<span class="opozorilo"><h:message for="opis"></h:message></span>
				<br />

				<h:commandButton value="Dodaj dogodek"
					actionListener="#{dogodek.dodajDogodek()}" />
				<br />


				<h1>Vsi dogodki</h1>

				<h:dataTable value="#{dogodek.vrniVseDogodke}" var="a">
					<h:column>
						<div>
							<h:outputText class="dogodekNaziv" value="#{a.naziv}"></h:outputText>

							<div class="gumbPodrobno">
								<input type="button" value="Podrobnosti"
									onclick="toggleDiv(div_#{a.idDogodek})"></input>
							</div>
							<div class="skritiDiv" id="div_#{a.idDogodek}">
							
								<span class="dogodekOznake">Potek prijave: </span>
								
								<h:outputText class="dogodekVsebina" value="#{a.izpisiDatumPrijave}"></h:outputText>
								
								<br /> <span class="dogodekOznake">Datum za훾etka: </span>

								<h:outputText class="dogodekVsebina" value="#{a.izpisiZacetek}"></h:outputText>

								<br /> <span class="dogodekOznake">Datum konca: </span>

								<h:outputText class="dogodekVsebina" value="#{a.izpisiKonca}"></h:outputText>

								<br /> <span class="dogodekOznake"> Vrednost v to훾kah: </span>

								<h:outputText class="dogodekVsebina" value="#{a.tocke}"></h:outputText>

								<br /> <span class="dogodekOznake">Opis dogodka</span><br /> 
								
								<span class="dogodekVsebina"> 
								
								<h:outputText value="#{a.opisDogodka}"></h:outputText>
								</span> <br />
							</div>
						</div>
						<hr />
					</h:column>
				</h:dataTable>

				<script>
					function toggleDiv(a){
						$( a ).toggle(300);	
						}
					</script>
			</h:form>
		</f:view>
	</ui:define>
</ui:composition>
</html>