<!DOCTYPE html>
<html xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf">
	<style>
	column {
	padding: 10px;
	}
	</style>


<ui:composition template="WEB-INF/template/template2.xhtml">


	<ui:define name="main">  
		<f:view>  
			<h:form>
			Naziv: <h:inputText id="naziv" value="#{dogodek.novDogodek.naziv}"
					validatorMessage="Vnesite naziv dogodka">
					<f:validateRequired />
				</h:inputText>
				<span class="opozorilo"><h:message for="naziv"></h:message></span>
				<br />
			Točke: <h:inputText id="tocke" value="#{dogodek.novDogodek.tocke}"
					validatorMessage="Vnesite število točk">
					<f:validateRequired />
				</h:inputText>
				<span class="opozorilo"><h:message for="tocke"></h:message></span>
				<br />
			Rok prijave: <input type="date"
					jsf:value="#{dogodek.novDogodek.datumPrijave.time}">
				<f:convertDateTime pattern="yyyy-MM-dd" />
				</input>
							
			Datum začetka: <input type="date"
					jsf:value="#{dogodek.novDogodek.datumZacetka.time}">
				<f:convertDateTime pattern="yyyy-MM-dd" />
				</input>
				
			Datum konca: <input type="date"
					jsf:value="#{dogodek.novDogodek.datumKonca.time}">
				<f:convertDateTime pattern="yyyy-MM-dd" />
				</input>
				
				<br />
			Opis dogodka:	<h:inputText id="opis" value="#{dogodek.novDogodek.opisDogodka}"
					validatorMessage="Vnesite opis dogodka">
					<f:validateRequired />
				</h:inputText>
				<span class="opozorilo"><h:message for="opis"></h:message></span>
				<br />
				
			<h:commandButton value="Dodaj dogodek"
						actionListener="#{dogodek.dodajDogodek()}" />
					<br />	
					
					
				<h1>Vsi dogodki</h1>

				<h:dataTable value="#{dogodek.vrniVseDogodke}" var="a" >
					<h:column>
						<f:facet name="header">Naziv</f:facet>
						<h:outputText value="#{a.naziv}"></h:outputText>
					</h:column>
					<h:column>
						<f:facet name="header">Rok prijave</f:facet>
						<h:outputText value="#{a.izpisiDatumPrijave}"></h:outputText>
					</h:column>
					<h:column>
						<f:facet name="header">Datum začetka</f:facet>
						<h:outputText value="#{a.izpisiZacetek}"></h:outputText>
					</h:column>
					<h:column>
						<f:facet name="header">Datum konca</f:facet>
						<h:outputText value="#{a.izpisiKonca}"></h:outputText>
					</h:column>
					<h:column>
						<f:facet name="header">Vrednost v točkah</f:facet>
						<h:outputText value="#{a.tocke}"></h:outputText>
					</h:column>
					<h:column>
						<f:facet name="header">Opis dogodka</f:facet>
						<h:outputText value="#{a.opisDogodka}"></h:outputText>
					</h:column>
				</h:dataTable>		
			</h:form>
		</f:view>
	</ui:define>
</ui:composition>
</html>