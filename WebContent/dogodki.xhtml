<!DOCTYPE html>
<html xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:p="http://primefaces.org/ui"
	>
	<style>
	column {
	padding: 10px;
	}
	</style>


<ui:composition template="WEB-INF/template/template2.xhtml">


	<ui:define name="main">  
		<f:view>  
			<h:form style="padding-left:30px;">
		
				<h1>Vsi dogodki</h1>
<h:panelGrid>
				<h:dataTable value="#{zaposleni.vrniVseDogodkeZaUporabnika}" var="a" rowClasses="#{zaposleni.prijave}">
					<h:column>
						<f:facet name="header">Naziv</f:facet>
						<h:outputText value="#{a.naziv}"></h:outputText>
					</h:column>
					<h:column>
						<f:facet name="header">Rok prijave</f:facet>
						<h:outputText value="#{a.izpisiDatumPrijave}"></h:outputText>
					</h:column>
					<h:column>
						<f:facet name="header">Datum začetka</f:facet>
						<h:outputText value="#{a.izpisiZacetek}"></h:outputText>
					</h:column>
					<h:column>
						<f:facet name="header">Datum konca</f:facet>
						<h:outputText value="#{a.izpisiKonca}"></h:outputText>
					</h:column>
					<h:column>
						<f:facet name="header">Vrednost v točkah</f:facet>
						<h:outputText value="#{a.tocke}"></h:outputText>
					</h:column>
					<h:column>
						<f:facet name="header">Opis dogodka</f:facet>
						<h:outputText value="#{a.opisDogodka}"></h:outputText>
					</h:column>
					<h:column>
						<f:facet name="header"></f:facet>
						<h:commandButton value="Podrobnosti"  type="button" onclick="PF('dlg2').show();"  action="#{zaposleni.prikaziPodrobno(a)}"></h:commandButton>
					</h:column>
					<h:column> 
						<f:facet name="header"></f:facet>
						<h:commandButton value="#{a.prijavljen}" disabled="#{a.gumbPrijava}"  actionListener="#{zaposleni.izberiDogodek(a)}"></h:commandButton>
					</h:column>
					</h:dataTable>	
					</h:panelGrid>
					<div id="pokaziVec">Več:
						#{zaposleni.dogodekPodrobno.naziv}
					</div>
					
					<p:dialog header="Modal Dialog" widgetVar="dlg2" modal="true" height="100">
    					<h:outputText value="#{zaposleni.dogodekPodrobno.naziv}" />
					</p:dialog>
						
			</h:form>
			</f:view>
	</ui:define>
</ui:composition>



</html>