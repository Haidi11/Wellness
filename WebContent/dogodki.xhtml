<!DOCTYPE html>
<html xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf" 
	xmlns:p="http://primefaces.org/ui">



<ui:composition template="WEB-INF/template/template2.xhtml">


	<ui:define name="main">
		<f:view>
			<h:form>

				<h1>Vsi dogodki</h1>

				<h:dataTable value="#{zaposleni.vrniVseDogodkeZaUporabnika}" var="a"
					rowClasses="#{zaposleni.prijave}">
					<h:column>
						<div>
							<h:outputText class="dogodekVsebina" value="#{a.naziv}"></h:outputText>
							
							<div class="gumbaPrijava">
								<input type="button" value="Podrobnosti"
									onclick="toggleDiv(div_#{a.idDogodek})"></input>
								<h:commandButton value="#{a.prijavljen}"
									disabled="#{a.gumbPrijava}" class="dis_#{a.gumbPrijava} aval_#{a.prijavljen}"
									actionListener="#{zaposleni.izberiDogodek(a)}"></h:commandButton>
							</div>
							<div class="skritiDiv" id="div_#{a.idDogodek}">
							<span class="dogodekOznake">Potek prijave: </span>
							<h:outputText class="dogodekVsebina" value="#{a.izpisiDatumPrijave}"></h:outputText><br />
								<span class="dogodekOznake">Datum začetka: </span>
								<h:outputText class="dogodekVsebina" value="#{a.izpisiZacetek}"></h:outputText>
								<br /> <span class="dogodekOznake">Datum konca: </span>
								<h:outputText class="dogodekVsebina" value="#{a.izpisiKonca}"></h:outputText>
								<br /> <span class="dogodekOznake"> Vrednost v točkah: </span>
								<h:outputText class="dogodekVsebina" value="#{a.tocke}"></h:outputText>
								<br /> <span class="dogodekOznake">Opis dogodka</span><br /> <span
									class="dogodekVsebina opisDogodkovDogodki"><h:outputText
										value="#{a.opisDogodka}" escape="false"></h:outputText></span><br />
							</div>
						</div>
					</h:column>

				</h:dataTable>
				<script>

	function toggleDiv(a){
		$( a ).toggle(300);
		
	}

</script>

			</h:form>
		</f:view>
	</ui:define>

</ui:composition>

</html>